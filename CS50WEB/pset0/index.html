<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Google Search</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <ul class="nav justify-content-end">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="image_search.html">Image</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="advanced_search.html">Advanced</a>
        </li>
    </ul>
    <div class="row justify-content-center">
        <form id="form" class="col-6 align-self-center" onsubmit="return check()" action="https://www.google.com/search">
            <div>
                <img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png" />
            </div>
            <div class="input-group input-group-lg">
                <input type="text" name="q" class="form-control" style="border-radius: 2rem;"/>
            </div>
            <!-- token需定期更新 -->
            <input type="hidden" id="iflsig" name="iflsig" value="AINFCbYAAAAAYC31wXFaGIpDbk9QI4R5mSY3ftWe6t0C" />
            <div>
                <button type="submit">
                    Google Search
                </button>
                <button type="button" id="lucky">
                    I'm Feeling Lucky
                </button>
            </div>
        </form>
    </div>
    <script>
        const check = () => {
            const text = document.querySelector("form input").value
            if (!text || text.trim().length === 0)
                return false
            return true
        }

        document.querySelector("#lucky").addEventListener('click', (event) => {
            if (!check()) return
            const form = document.querySelector("#form")
            const btnI = document.createElement('input')
            btnI.name = 'btnI'
            btnI.type = 'hidden'
            btnI.value = "I'm Feeling Lucky"
            form.appendChild(btnI)
            form.submit()
        })
    </script>
</body>
</html>